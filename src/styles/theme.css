:root {
  --ui-font-family:
    'SF Pro Display',
    'PingFang SC',
    'Hiragino Sans GB',
    'Microsoft YaHei',
    'Noto Sans SC',
    sans-serif;
  --ui-text-primary: #1f2d3d;
  --ui-text-secondary: #5f7288;
  --ui-text-tertiary: #7c8ea2;
  --ui-bg-start: #f5f8fc;
  --ui-bg-end: #e9eff6;
  --ui-surface: #ffffff;
  --ui-surface-soft: #f4f7fb;
  --ui-border: #d5dfeb;
  --ui-border-strong: #b8c9dc;
  --ui-glass-border: rgb(89 113 140 / 24%);
  --ui-primary: #355273;
  --ui-primary-hover: #2a4563;
  --ui-primary-soft: #dde8f4;
  --ui-danger: #cf4b5b;
  --ui-radius-sm: 10px;
  --ui-radius-md: 12px;
  --ui-radius-lg: 14px;
  --ui-control-height: 38px;
  --ui-shadow: 0 10px 24px rgb(29 48 69 / 8%);
}

html,
body,
#app {
  min-height: 100%;
}

body {
  margin: 0;
  font-family: var(--ui-font-family);
  color: var(--ui-text-primary);
  background:
    radial-gradient(130% 120% at 0% 0%, #ffffff 0%, transparent 58%),
    radial-gradient(120% 130% at 100% 100%, #f1f5fb 0%, transparent 56%),
    linear-gradient(180deg, var(--ui-bg-start) 0%, var(--ui-bg-end) 100%);
  text-rendering: optimizelegibility;
}

a {
  color: var(--ui-primary);
  transition: color 0.2s ease;
}

a:hover {
  color: var(--ui-primary-hover);
}

.page-shell {
  margin-bottom: 14px;
  display: grid;
  gap: 12px;
}

.page-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
}

.page-title {
  margin: 0;
  color: var(--ui-text-primary);
  font-size: 24px;
  line-height: 1.28;
  letter-spacing: -0.01em;
}

.page-subtitle {
  margin: 0;
  color: var(--ui-text-secondary);
  line-height: 1.6;
}

.page-gap {
  height: 10px;
}

.page-toolbar {
  border: 1px solid var(--ui-glass-border);
  border-radius: var(--ui-radius-lg);
  background: linear-gradient(180deg, rgb(255 255 255 / 95%) 0%, #f2f7fd 100%);
  padding: 12px;
}

.page-toolbar-main {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
}

.page-toolbar-main .page-title {
  margin-bottom: 2px;
}

.page-toolbar-actions {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.filter-toolbar {
  border: 1px solid var(--ui-border);
  border-radius: var(--ui-radius-md);
  background: linear-gradient(180deg, #f9fbff 0%, #f0f6fd 100%);
  padding: 10px 12px;
}

.compact-filter-toolbar {
  border-color: #cfdceb;
  background:
    radial-gradient(120% 110% at 100% 0%, rgb(193 212 233 / 14%) 0%, transparent 56%),
    linear-gradient(180deg, #fbfdff 0%, #f2f7fd 100%);
}

.compact-filter-form {
  display: grid;
  gap: 8px;
}

.compact-filter-primary {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  align-items: center;
  gap: 8px;
}

.compact-filter-search {
  margin-bottom: 0;
  min-width: 0;
}

.compact-filter-actions {
  display: inline-flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
  flex-wrap: wrap;
}

.compact-filter-actions .ant-form-item {
  margin-top: 0;
  margin-bottom: 0;
}

.compact-filter-select {
  width: 156px;
}

.toolbar-toggle-btn {
  border-color: #bfd0e3;
  background: #e8f1fa;
  color: #274360;
}

.toolbar-toggle-btn:hover,
.toolbar-toggle-btn:focus {
  border-color: #9eb5cd;
  color: #203750;
  background: #dfeaf6;
}

.toolbar-count-pill {
  display: inline-grid;
  place-items: center;
  min-width: 18px;
  height: 18px;
  margin-left: 3px;
  padding-inline: 4px;
  border-radius: 999px;
  background: #355273;
  color: #fff;
  font-size: 11px;
  font-weight: 600;
  line-height: 1;
}

.advanced-filter-panel {
  border: 1px solid #d8e4f1;
  border-radius: 12px;
  background: linear-gradient(180deg, #fbfdff 0%, #f2f7fd 100%);
  padding: 10px;
}

.advanced-filter-grid {
  display: grid;
  grid-template-columns: repeat(12, minmax(0, 1fr));
  gap: 8px;
}

.advanced-filter-grid > .ant-form-item {
  margin-top: 0;
  margin-bottom: 0;
}

.advanced-col-2 {
  grid-column: span 2;
}

.advanced-col-3 {
  grid-column: span 3;
}

.advanced-col-4 {
  grid-column: span 4;
}

.advanced-col-6 {
  grid-column: span 6;
}

.advanced-col-8 {
  grid-column: span 8;
}

.table-meta-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: -2px;
  margin-bottom: 2px;
}

.table-meta-main {
  font-size: 13px;
  color: var(--ui-text-primary);
  font-weight: 600;
}

.table-meta-sub {
  font-size: 12px;
  color: var(--ui-text-secondary);
}

.mini-kpi-row {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.mini-kpi {
  min-height: 30px;
  border-radius: 999px;
  border: 1px solid #d3dfec;
  background: linear-gradient(180deg, #ffffff 0%, #eef4fb 100%);
  padding: 4px 10px;
  display: inline-flex;
  align-items: baseline;
  gap: 6px;
}

.mini-kpi strong {
  font-size: 14px;
  line-height: 1;
  color: #203950;
}

.mini-kpi span {
  font-size: 11px;
  color: var(--ui-text-secondary);
}

.toolbar-fold-enter-active,
.toolbar-fold-leave-active {
  transition: opacity 0.2s ease, transform 0.2s ease;
}

.toolbar-fold-enter-from,
.toolbar-fold-leave-to {
  opacity: 0;
  transform: translateY(-4px);
}

.filter-toolbar .ant-form {
  row-gap: 8px;
}

.filter-toolbar .ant-form-item {
  margin-top: 0;
  margin-bottom: 0;
}

.filter-toolbar .action-item {
  margin-left: auto;
}

.content-slab {
  border: 1px solid var(--ui-glass-border);
  border-radius: var(--ui-radius-lg);
  background: linear-gradient(180deg, #ffffff 0%, #f5f9ff 100%);
  padding: 12px;
}

.panel-card {
  border: 1px solid var(--ui-glass-border);
  border-radius: var(--ui-radius-lg);
  background: linear-gradient(180deg, #fff 0%, var(--ui-surface-soft) 100%);
  padding: 12px;
  box-shadow: var(--ui-shadow);
  backdrop-filter: blur(8px);
}

.panel-card.no-shadow {
  box-shadow: none;
}

.form-inline-panel .ant-form {
  row-gap: 8px;
}

.form-inline-panel .ant-form-item {
  margin-top: 4px;
  margin-bottom: 0;
}

.table-wrap {
  border: 1px solid var(--ui-border);
  border-radius: var(--ui-radius-md);
  overflow: hidden;
  background: var(--ui-surface);
}

.table-wrap .ant-table-wrapper {
  overflow-x: auto;
}

.table-wrap .ant-table-content table {
  min-width: 760px;
}

.image-fixed-180 {
  width: 100%;
  height: 180px;
  object-fit: cover;
  display: block;
}

.image-contained-600 {
  max-height: 600px;
  object-fit: contain;
}

.btn-full {
  width: 100%;
}

.w-120 {
  width: min(100%, 96px);
}

.w-180 {
  width: min(100%, 168px);
}

.w-240 {
  width: min(100%, 220px);
}

.w-400 {
  width: min(100%, 320px);
}

.w-calc-url-input {
  width: auto;
  min-width: 0;
  flex: 1 1 260px;
}

.text-right {
  text-align: right;
}

.analyze-chart {
  height: 320px;
  max-width: 100%;
}

.analyze-card-grid {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.analyze-center {
  height: 320px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.kpi-strip {
  display: flex;
  align-items: stretch;
  gap: 10px;
  flex-wrap: wrap;
}

.kpi-pill {
  min-width: 112px;
  border-radius: 12px;
  border: 1px solid var(--ui-border);
  background: linear-gradient(180deg, #ffffff 0%, #edf3fa 100%);
  padding: 8px 10px;
}

.kpi-label {
  display: block;
  margin-bottom: 4px;
  font-size: 12px;
  color: var(--ui-text-secondary);
}

.kpi-value {
  font-size: 16px;
  line-height: 1.2;
  color: var(--ui-text-primary);
  font-weight: 600;
}

.ant-btn {
  border-radius: var(--ui-radius-sm);
  min-height: var(--ui-control-height);
  padding-inline: 14px;
}

.ant-btn-sm {
  min-height: 32px;
  padding-inline: 10px;
}

.ant-btn-primary {
  border-color: var(--ui-primary);
  background: var(--ui-primary);
}

.ant-btn-primary:hover,
.ant-btn-primary:focus {
  border-color: var(--ui-primary-hover);
  background: var(--ui-primary-hover);
}

.ant-btn-primary.ant-btn-background-ghost {
  color: var(--ui-primary);
  border-color: #9ab0c8;
  background: rgb(255 255 255 / 80%);
}

.ant-btn-dangerous {
  border-radius: var(--ui-radius-sm);
}

.ant-input,
.ant-input-affix-wrapper,
.ant-input-number,
.ant-picker,
.ant-select-selector,
.ant-input-group-addon,
.ant-input-search-button {
  border-radius: var(--ui-radius-sm) !important;
  border-color: var(--ui-border-strong) !important;
}

.ant-input,
.ant-input-affix-wrapper,
.ant-input-number,
.ant-picker {
  min-height: var(--ui-control-height);
}

.ant-input-number .ant-input-number-input,
.ant-input-number .ant-input-number-input-wrap {
  height: calc(var(--ui-control-height) - 2px);
}

.ant-input-search .ant-input,
.ant-input-search .ant-input-search-button {
  min-height: var(--ui-control-height);
}

.ant-select-single .ant-select-selector {
  min-height: var(--ui-control-height) !important;
  display: flex;
  align-items: center;
}

.ant-select-single .ant-select-selection-item,
.ant-select-single .ant-select-selection-placeholder {
  line-height: calc(var(--ui-control-height) - 2px) !important;
}

.ant-select-dropdown,
.ant-picker-dropdown .ant-picker-panel-container {
  border: 1px solid var(--ui-border);
  border-radius: var(--ui-radius-sm);
}

.ant-input:focus,
.ant-input-focused,
.ant-input-affix-wrapper-focused,
.ant-input-number-focused,
.ant-picker-focused,
.ant-select-focused .ant-select-selector {
  border-color: var(--ui-primary) !important;
  box-shadow: 0 0 0 2px rgb(53 82 115 / 12%) !important;
}

.ant-card {
  border-radius: var(--ui-radius-lg);
  border-color: var(--ui-glass-border);
  box-shadow: 0 6px 20px rgb(29 48 69 / 6%);
}

.ant-card-head {
  border-bottom-color: var(--ui-border);
  min-height: 46px;
  padding-inline: 14px;
}

.ant-card-head-title {
  color: var(--ui-text-primary);
}

.ant-card-body {
  padding: 14px;
}

.ant-form-item-label > label {
  color: var(--ui-text-primary) !important;
}

.ant-form-item {
  margin-bottom: 14px;
}

.ant-form-item-explain-error {
  color: var(--ui-danger);
}

.ant-table-wrapper .ant-table {
  color: var(--ui-text-primary);
}

.ant-table-wrapper .ant-table-thead > tr > th {
  background: #f4f8fc;
  color: #3d556f;
  border-bottom-color: var(--ui-border);
  font-weight: 600;
  padding-block: 10px;
}

.ant-table-wrapper .ant-table-tbody > tr > td {
  border-bottom-color: #e7eef6;
  padding-block: 10px;
}

.ant-table-wrapper .ant-table-tbody > tr:hover > td {
  background: #f8fbff;
}

.ant-table-wrapper .ant-pagination {
  margin-right: 10px;
}

.ant-tag {
  border-radius: 999px;
  border-color: #cfdceb;
  background: #eef4fb;
  color: #47627e;
  margin-inline-end: 6px;
  margin-block: 2px;
}

.ant-tabs-nav::before {
  border-bottom-color: var(--ui-border) !important;
}

.ant-tabs-tab {
  color: var(--ui-text-secondary) !important;
  min-height: 38px;
}

.ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn,
.ant-tabs-tab:hover {
  color: var(--ui-primary) !important;
}

.ant-tabs-ink-bar {
  background: var(--ui-primary) !important;
}

.ant-pagination-item,
.ant-pagination-prev .ant-pagination-item-link,
.ant-pagination-next .ant-pagination-item-link {
  border-color: var(--ui-border);
  border-radius: 8px;
}

.ant-pagination-item-active {
  border-color: #9db4cc;
  background: #e3edf8;
}

.ant-pagination-item-active a {
  color: #1f3851;
}

.ant-modal .ant-modal-content {
  border-radius: var(--ui-radius-lg);
  border: 1px solid var(--ui-border);
  background: linear-gradient(180deg, #ffffff 0%, #f4f8fd 100%);
}

.ant-modal .ant-modal-header {
  border-bottom-color: var(--ui-border);
  background: transparent;
}

.ant-modal .ant-modal-title {
  color: var(--ui-text-primary);
}

.ant-descriptions .ant-descriptions-item-label {
  color: var(--ui-text-secondary);
}

.ant-result .ant-result-title {
  color: var(--ui-text-primary);
}

.ant-result .ant-result-subtitle {
  color: var(--ui-text-secondary);
}

.ant-progress-circle .ant-progress-text {
  color: var(--ui-text-primary) !important;
}

*:focus-visible {
  outline: 2px solid rgb(53 82 115 / 45%);
  outline-offset: 2px;
}

@media (max-width: 992px) {
  .analyze-card-grid {
    grid-template-columns: 1fr;
  }

  .table-wrap .ant-table-content table {
    min-width: 680px;
  }

  .w-400 {
    width: min(100%, 280px);
  }

  .page-toolbar,
  .content-slab {
    border-radius: var(--ui-radius-md);
    padding: 10px;
  }

  .advanced-col-8,
  .advanced-col-6,
  .advanced-col-4,
  .advanced-col-3,
  .advanced-col-2 {
    grid-column: span 6;
  }
}

@media (max-width: 768px) {
  .page-title {
    font-size: 21px;
  }

  .page-shell {
    gap: 10px;
  }

  .panel-card {
    border-radius: var(--ui-radius-md);
    padding: 10px;
  }

  .page-toolbar-main {
    align-items: stretch;
  }

  .page-toolbar-actions {
    width: 100%;
  }

  .compact-filter-primary {
    grid-template-columns: 1fr;
    align-items: stretch;
  }

  .compact-filter-actions {
    justify-content: flex-start;
  }

  .compact-filter-select {
    width: 100%;
  }

  .advanced-filter-grid {
    grid-template-columns: 1fr;
  }

  .advanced-col-8,
  .advanced-col-6,
  .advanced-col-4,
  .advanced-col-3,
  .advanced-col-2 {
    grid-column: 1 / -1;
  }

  .filter-toolbar .action-item {
    margin-left: 0;
  }

  .kpi-pill {
    flex: 1 1 136px;
  }

  .w-400,
  .w-240,
  .w-180,
  .w-120,
  .w-calc-url-input {
    width: 100%;
  }

  .w-calc-url-input {
    flex-basis: 100%;
  }
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    transition: none !important;
    animation: none !important;
  }
}
